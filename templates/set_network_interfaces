# Generated by Ansible
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback
 
{% for interface in set_network_hostsettings.network.interfaces%}
auto {{interface.name}}
{% if interface.dhcp|lower == 'yes' %}
allow-hotplug {{interface.name}}
iface {{interface.name}} inet dhcp
{% endif %}
{% if interface.dhcp|lower == 'no' %}
iface {{interface.name}} inet static
{% if interface.ip_address|length > 0 %}
 address {{interface.ip_address}}
{% endif %}
{% if interface.ip_mask|length > 0 %}
 netmask {{interface.ip_mask}}
{% endif %}
{% if interface.routers|length > 0 %}
 gateway {{interface.routers}}
{% endif %}
{% if interface.domain_name|length > 0 %}
 dns-domain {{interface.domain_name}}
{% endif %}
{% if interface.domain_name_servers|length > 0 %}
 dns-nameservers {{interface.domain_name_servers}}
{% endif %}
{% if interface.domain_search|length > 0 %}
 dns-search {{interface.domain_search}}
{% endif %}
{% endif %}
{% endfor %}
